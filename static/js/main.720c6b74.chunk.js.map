{"version":3,"sources":["views/Event.js","views/EventList.js","views/NumberOfEvents.js","views/CitySearch.js","helpers/mock-data.js","helpers/api.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["Event","setCollapsed","setState","collapsed","state","this","props","event","summary","location","start","htmlLink","description","className","dateTime","href","target","rel","onClick","React","Component","EventList","events","map","id","NumberOfEvents","handleChange","e","eventNumber","Number","value","htmlFor","name","type","min","max","onChange","CitySearch","handleInputChange","suggestions","locations","filter","toUpperCase","indexOf","query","handleItemClicked","suggestion","showSuggestions","updateEvents","undefined","onFocus","style","display","mockData","kind","etag","status","created","updated","creator","email","self","organizer","timeZone","end","recurringEventId","originalStartTime","iCalUID","sequence","reminders","useDefault","eventType","extractLocations","Set","checkToken","accessToken","a","fetch","then","res","json","catch","err","result","getToken","code","encodeCode","encodeURIComponent","access_token","localStorage","setItem","removeQuery","newUrl","window","protocol","host","pathname","history","pushState","getEvents","NProgress","startsWith","done","getAccessToken","token","url","axios","get","data","JSON","stringify","getItem","tokenCheck","error","removeItem","searchParams","URLSearchParams","search","results","authUrl","App","locationEvents","mounted","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.720c6b74.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Event extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tcollapsed: true,\r\n\t\t};\r\n\t}\r\n\r\n\tsetCollapsed = () => {\r\n\t\tthis.setState(({ collapsed }) => ({ collapsed: !collapsed }));\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { collapsed } = this.state;\r\n\t\tconst { summary, location, start, htmlLink, description } =\r\n\t\t\tthis.props.event;\r\n\t\treturn (\r\n\t\t\t<div className='event'>\r\n\t\t\t\t<h1 className='summary'>{summary}</h1>\r\n\t\t\t\t<p className='location'>{location}</p>\r\n\t\t\t\t<p className='start-date'>{start.dateTime}</p>\r\n\t\t\t\t{!collapsed ? (\r\n\t\t\t\t\t<div className='more-info'>\r\n\t\t\t\t\t\t<a href={htmlLink} target='_blank' rel='noreferrer' />\r\n\t\t\t\t\t\t<p className='description'>{description}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<></>\r\n\t\t\t\t)}\r\n\t\t\t\t<button onClick={this.setCollapsed} className='details-btn'>\r\n\t\t\t\t\t{collapsed ? 'More Details' : 'Hide Details'}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Event;\r\n","import React from 'react';\r\nimport Event from './Event';\r\n\r\nfunction EventList({ events }) {\r\n\treturn (\r\n\t\t<ul className='EventList'>\r\n\t\t\t{events.map(event => (\r\n\t\t\t\t<li key={event.id}>\r\n\t\t\t\t\t<Event event={event} />\r\n\t\t\t\t</li>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default EventList;\r\n","import React, { Component } from 'react';\r\n\r\nclass NumberOfEvents extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\teventNumber: 32,\r\n\t\t};\r\n\t}\r\n\r\n\thandleChange = e => {\r\n\t\tconst eventNumber = Number(e.target.value)\r\n\t\tthis.setState({ eventNumber });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='NumberOfEvents'>\r\n\t\t\t\t<label htmlFor='event-number'>Number of events: </label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname='event-number'\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tclassName='events-input'\r\n\t\t\t\t\tvalue={this.state.eventNumber}\r\n          min='1'\r\n          max='32'\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NumberOfEvents;\r\n","import React from 'react';\r\n\r\nclass CitySearch extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tquery: '',\r\n\t\t\tsuggestions: [],\r\n\t\t\tshowSuggestions: undefined,\r\n\t\t};\r\n\t}\r\n\r\n\thandleInputChange = e => {\r\n\t\tconst value = e.target.value;\r\n\t\tconst suggestions = this.props.locations.filter(location => {\r\n\t\t\treturn location.toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n\t\t});\r\n\t\tthis.setState({ query: value, suggestions });\r\n\t};\r\n\r\n\thandleItemClicked = suggestion => {\r\n\t\tthis.setState({\r\n\t\t\tquery: suggestion,\r\n\t\t\tshowSuggestions: false,\r\n\t\t});\r\n\t\tthis.props.updateEvents(suggestion);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { query, suggestions, showSuggestions } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className='CitySearch'>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='city'\r\n\t\t\t\t\tid='city'\r\n\t\t\t\t\tvalue={query}\r\n\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\tonFocus={() => this.setState({ showSuggestions: true })}\r\n\t\t\t\t/>\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclassName='suggestions'\r\n\t\t\t\t\tstyle={showSuggestions ? {} : { display: 'none' }}>\r\n\t\t\t\t\t{suggestions.map(suggestion => (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={suggestion}\r\n\t\t\t\t\t\t\tonClick={() => this.handleItemClicked(suggestion)}>\r\n\t\t\t\t\t\t\t{suggestion}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tkey='all'\r\n\t\t\t\t\t\tclassName='city-btn'\r\n\t\t\t\t\t\tonClick={() => this.handleItemClicked('all')}>\r\n\t\t\t\t\t\t<b>See all cities</b>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CitySearch;\r\n","const mockData = [\r\n\t{\r\n\t\tkind: 'calendar#event',\r\n\t\tetag: '\"3181161784712000\"',\r\n\t\tid: '4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z',\r\n\t\tstatus: 'confirmed',\r\n\t\thtmlLink:\r\n\t\t\t'https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20',\r\n\t\tcreated: '2020-05-19T19:17:46.000Z',\r\n\t\tupdated: '2020-05-27T12:01:32.356Z',\r\n\t\tsummary: 'Learn JavaScript',\r\n\t\tdescription:\r\n\t\t\t'Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) \\n\\nJavascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.',\r\n\t\tlocation: 'London, UK',\r\n\t\tcreator: {\r\n\t\t\temail: 'fullstackwebdev@careerfoundry.com',\r\n\t\t\tself: true,\r\n\t\t},\r\n\t\torganizer: {\r\n\t\t\temail: 'fullstackwebdev@careerfoundry.com',\r\n\t\t\tself: true,\r\n\t\t},\r\n\t\tstart: {\r\n\t\t\tdateTime: '2020-05-19T16:00:00+02:00',\r\n\t\t\ttimeZone: 'Europe/Berlin',\r\n\t\t},\r\n\t\tend: {\r\n\t\t\tdateTime: '2020-05-19T17:00:00+02:00',\r\n\t\t\ttimeZone: 'Europe/Berlin',\r\n\t\t},\r\n\t\trecurringEventId: '4eahs9ghkhrvkld72hogu9ph3e',\r\n\t\toriginalStartTime: {\r\n\t\t\tdateTime: '2020-05-19T16:00:00+02:00',\r\n\t\t\ttimeZone: 'Europe/Berlin',\r\n\t\t},\r\n\t\tiCalUID: '4eahs9ghkhrvkld72hogu9ph3e@google.com',\r\n\t\tsequence: 0,\r\n\t\treminders: {\r\n\t\t\tuseDefault: true,\r\n\t\t},\r\n\t\teventType: 'default',\r\n\t},\r\n\t{\r\n\t\tkind: 'calendar#event',\r\n\t\tetag: '\"3181159875584000\"',\r\n\t\tid: '3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z',\r\n\t\tstatus: 'confirmed',\r\n\t\thtmlLink:\r\n\t\t\t'https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20',\r\n\t\tcreated: '2020-05-19T19:14:30.000Z',\r\n\t\tupdated: '2020-05-27T11:45:37.792Z',\r\n\t\tsummary: 'React is Fun',\r\n\t\tdescription:\r\n\t\t\t'Love HTML, CSS, and JS? Want to become a cool front-end developer? \\n\\nReact is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. \\n\\nJoin us in our free React training sessions and give your career a new direction. ',\r\n\t\tlocation: 'Berlin, Germany',\r\n\t\tcreator: {\r\n\t\t\temail: 'fullstackwebdev@careerfoundry.com',\r\n\t\t\tself: true,\r\n\t\t},\r\n\t\torganizer: {\r\n\t\t\temail: 'fullstackwebdev@careerfoundry.com',\r\n\t\t\tself: true,\r\n\t\t},\r\n\t\tstart: {\r\n\t\t\tdateTime: '2020-05-20T14:00:00+02:00',\r\n\t\t\ttimeZone: 'Europe/Berlin',\r\n\t\t},\r\n\t\tend: {\r\n\t\t\tdateTime: '2020-05-20T15:00:00+02:00',\r\n\t\t\ttimeZone: 'Europe/Berlin',\r\n\t\t},\r\n\t\trecurringEventId: '3qtd6uscq4tsi6gc7nmmtpqlct',\r\n\t\toriginalStartTime: {\r\n\t\t\tdateTime: '2020-05-20T14:00:00+02:00',\r\n\t\t\ttimeZone: 'Europe/Berlin',\r\n\t\t},\r\n\t\tiCalUID: '3qtd6uscq4tsi6gc7nmmtpqlct@google.com',\r\n\t\tsequence: 0,\r\n\t\treminders: {\r\n\t\t\tuseDefault: true,\r\n\t\t},\r\n\t\teventType: 'default',\r\n\t},\r\n];\r\n\r\nexport { mockData };\r\n","import { mockData } from './mock-data';\r\nimport axios from 'axios';\r\nimport NProgress from 'nprogress';\r\n\r\nexport const extractLocations = events => {\r\n\tvar extractLocations = events.map(event => event.location);\r\n\tvar locations = [...new Set(extractLocations)];\r\n\treturn locations;\r\n};\r\n\r\nconst checkToken = async accessToken => {\r\n\tconst result = await fetch(\r\n\t\t`https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${accessToken}`\r\n\t)\r\n\t\t.then(res => res.json())\r\n\t\t.catch(err => err.json());\r\n\treturn result;\r\n};\r\n\r\nconst getToken = async code => {\r\n\tconst encodeCode = encodeURIComponent(code);\r\n\tconst getTokenLink =\r\n\t\t'https://n1dndio4ce.execute-api.us-east-2.amazonaws.com/dev/api/token';\r\n\tconst { access_token } = await fetch(`${getTokenLink}/${encodeCode}`)\r\n\t\t.then(res => res.json())\r\n\t\t.catch(err => err);\r\n\r\n\taccess_token && localStorage.setItem('access_token', access_token);\r\n\r\n\treturn access_token;\r\n};\r\n\r\nconst removeQuery = () => {\r\n\tlet { protocol, host, pathname } = window.location;\r\n\tlet newUrl;\r\n\tif (window.history.pushState && window.location.pathname) {\r\n\t\tnewUrl = `${protocol}//${host}${pathname}`;\r\n\t\twindow.history.pushState('', '', newUrl);\r\n\t} else {\r\n\t\tnewUrl = `${protocol}//${host}`;\r\n\t\twindow.history.pushState('', '', newUrl);\r\n\t}\r\n};\r\n\r\nexport const getEvents = async () => {\r\n\tNProgress.start();\r\n\r\n\tif (window.location.href.startsWith('http://localhost')) {\r\n\t\tNProgress.done();\r\n\t\treturn mockData;\r\n\t}\r\n\r\n\tconst token = await getAccessToken();\r\n\tconst getCalendarEvents =\r\n\t\t'https://n1dndio4ce.execute-api.us-east-2.amazonaws.com/dev/api/get-events';\r\n\r\n\tif (token) {\r\n\t\tremoveQuery();\r\n\t\tconst url = `${getCalendarEvents}/${token}`;\r\n\t\tconst result = await axios.get(url);\r\n\t\tlet { events } = result.data;\r\n\t\tif (result.data) {\r\n\t\t\tlet locations = extractLocations(events);\r\n\t\t\tlocalStorage.setItem('lastEvents', JSON.stringify(result.data));\r\n\t\t\tlocalStorage.setItem('locations', JSON.stringify(locations));\r\n\t\t}\r\n\t\tNProgress.done();\r\n\t\treturn events;\r\n\t}\r\n};\r\n\r\nexport const getAccessToken = async () => {\r\n\tconst accessToken = localStorage.getItem('access_token');\r\n\tconst tokenCheck = accessToken && (await checkToken(accessToken));\r\n\r\n\tif (!accessToken || tokenCheck.error) {\r\n\t\tawait localStorage.removeItem('access_token');\r\n\t\tconst searchParams = new URLSearchParams(window.location.search);\r\n\t\tconst code = await searchParams.get('code');\r\n\t\tif (!code) {\r\n\t\t\tconst results = await axios.get(\r\n\t\t\t\t'https://n1dndio4ce.execute-api.us-east-2.amazonaws.com/dev/api/get-auth-url'\r\n\t\t\t);\r\n\t\t\tconst { authUrl } = results.data;\r\n\t\t\treturn (window.location.href = authUrl);\r\n\t\t}\r\n\t\treturn code && getToken(code);\r\n\t}\r\n\treturn accessToken;\r\n};\r\n","import './nprogress.css';\nimport React from 'react';\nimport './App.css';\nimport EventList from './views/EventList';\nimport NumberOfEvents from './views/NumberOfEvents';\nimport CitySearch from './views/CitySearch';\nimport { extractLocations, getEvents } from './helpers/api';\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tevents: [],\n\t\t\tlocations: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.mounted = true;\n\t\tgetEvents().then(events => {\n\t\t\tif (this.mounted) {\n\t\t\t\tthis.setState({ events, locations: extractLocations(events) });\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.mounted = false;\n\t}\n\n\tupdateEvents = location => {\n\t\tgetEvents().then(events => {\n\t\t\tconst locationEvents =\n\t\t\t\tlocation === 'all'\n\t\t\t\t\t? events\n\t\t\t\t\t: events.filter(event => event.location === location);\n\t\t\tthis.setState({\n\t\t\t\tevents: locationEvents,\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { events, locations } = this.state;\n\t\treturn (\n\t\t\t<div className='App'>\n\t\t\t\t<CitySearch locations={locations} updateEvents={this.updateEvents} />\n\t\t\t\t<NumberOfEvents />\n\t\t\t\t<EventList events={events} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}